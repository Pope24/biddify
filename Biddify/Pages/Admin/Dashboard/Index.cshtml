@page
@model Biddify.Pages.Admin.Dashboard.IndexModel
@{
    Layout = "_AdminLayout";
    ViewData["Title"] = "Dashboard";
}
<div class="mb-6">
    <h1 class="text-2xl font-bold text-gray-800">Welcome back, Admin 👋</h1>
    <p class="text-gray-600">Here’s a summary of what’s happening on your platform today.</p>
</div>

<!-- Stats Cards -->
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
    <div class="bg-white p-6 rounded-2xl shadow">
        <h3 class="text-sm text-gray-500 mb-1">Total Users</h3>
        <p class="text-2xl font-semibold text-blue-600">5,342</p>
    </div>
    <div class="bg-white p-6 rounded-2xl shadow">
        <h3 class="text-sm text-gray-500 mb-1">Ongoing Auctions</h3>
        <p class="text-2xl font-semibold text-green-600">128</p>
    </div>
    <div class="bg-white p-6 rounded-2xl shadow">
        <h3 class="text-sm text-gray-500 mb-1">Revenue (This Month)</h3>
        <p class="text-2xl font-semibold text-yellow-600">$24,890</p>
    </div>
    <div class="bg-white p-6 rounded-2xl shadow">
        <h3 class="text-sm text-gray-500 mb-1">New Registrations</h3>
        <p class="text-2xl font-semibold text-purple-600">320</p>
    </div>
</div>

<!-- Charts -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <!-- Area Chart -->
    <div class="bg-white p-6 rounded-2xl shadow">
        <h2 class="font-semibold text-lg mb-4">Monthly Revenue</h2>
        <div id="area-chart" class="h-72"></div>
    </div>

    <!-- Column Chart -->
    <div class="bg-white p-6 rounded-2xl shadow">
        <h2 class="font-semibold text-lg mb-4">Auctions by Category</h2>
        <div id="column-chart" class="h-72"></div>
    </div>

    <!-- Pie Chart -->
    <div class="bg-white p-6 rounded-2xl shadow">
        <h2 class="font-semibold text-lg mb-4">User Distribution</h2>
        <div id="pie-chart" class="h-72"></div>
    </div>

    <!-- Line Chart -->
    <div class="bg-white p-6 rounded-2xl shadow">
        <h2 class="font-semibold text-lg mb-4">New Users Per Month</h2>
        <div id="line-chart" class="h-72"></div>
    </div>
</div>

<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
    <div class="bg-white p-6 rounded-2xl shadow border border-gray-100">
        <h3 class="text-lg font-semibold mb-2">Recent Activities</h3>
        <ul class="text-sm text-gray-700 space-y-2">
            <li>✅ New user <strong>JohnDoe</strong> registered.</li>
            <li>📦 Auction <strong>#302</strong> completed.</li>
            <li>💰 Seller <strong>SarahArts</strong> was approved.</li>
            <li>⚠️ 3 auctions marked for review.</li>
        </ul>
    </div>
    <div class="bg-white p-6 rounded-2xl shadow border border-gray-100">
        <h3 class="text-lg font-semibold mb-2">System Status</h3>
        <p class="text-sm text-green-600 font-medium">✔ All systems operational.</p>
        <p class="text-xs text-gray-500 mt-1">No incidents reported in the last 24 hours.</p>
    </div>
</div>

@section Scripts {
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>

    <script>
        // Area Chart
        Highcharts.chart('area-chart', {
            chart: { type: 'area' },
            title: { text: '' },
            xAxis: {
                categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun']
            },
            yAxis: {
                title: { text: 'Revenue ($)' }
            },
            series: [{
                name: 'Revenue',
                data: [12000, 15000, 14000, 18000, 22000, 26000],
                color: '#3b82f6'
            }],
            credits: { enabled: false },
        });

        // Column Chart
        Highcharts.chart('column-chart', {
            chart: { type: 'column' },
            title: { text: '' },
            xAxis: {
                categories: ['Electronics', 'Art', 'Fashion', 'Vehicles', 'Real Estate']
            },
            yAxis: {
                min: 0,
                title: { text: 'Auction Count' }
            },
            series: [{
                name: 'Auctions',
                data: [42, 38, 25, 18, 10],
                color: '#10b981'
            }],
            credits: { enabled: false },
        });

        // Pie Chart
        Highcharts.chart('pie-chart', {
            chart: { type: 'pie' },
            title: { text: '' },
            tooltip: { pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>' },
            plotOptions: {
                pie: {
                    allowPointSelect: true,
                    cursor: 'pointer',
                    dataLabels: { enabled: true, format: '<b>{point.name}</b>: {point.percentage:.1f}%' }
                }
            },
            series: [{
                name: 'Users',
                colorByPoint: true,
                data: [
                    { name: 'Buyers', y: 64 },
                    { name: 'Sellers', y: 28 },
                    { name: 'Admins', y: 8 }
                ],
            }],
            credits: { enabled: false },
        });

        // Line Chart
        Highcharts.chart('line-chart', {
            chart: { type: 'line' },
            title: { text: '' },
            xAxis: {
                categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun']
            },
            yAxis: {
                title: { text: 'New Users' }
            },
            series: [{
                name: 'New Users',
                data: [30, 45, 50, 65, 80, 92],
                color: '#f59e0b'
            }],
            credits: { enabled: false }
        });
    </script>
}
